library(tweetscores)
tweetscores$refData
tweetscores::posterior_samples
tweetscores::posterior_samples$screen_name
tweetscores::estimateIdeology
tweetscores::refdata
tweetscores::posterior_samples$phi
tweetscores::posterior_samples$phi %>% summary
library(tidyverse)
tweetscores::posterior_samples$phi %>% summary
tweetscores::posterior_samples$phi
tweetscores::posterior_samples$phi[-1]
tweetscores::posterior_samples$phi
tweetscores::posterior_samples$phi %>% tibble()
tweetscores::posterior_samples$phi %>% tibble() %>% select("MittRomney")
tweetscores::posterior_samples$phi %>% tibble() %>% select(`[,"MittRomney"]`)
tweetscores::posterior_samples$phi %>% tibble() %>% colnames()
tweetscores::posterior_samples$phi %>% tibble() %>% cols()
tweetscores::posterior_samples$phi %>% tibble() 
tweetscores::posterior_samples$phi %>% DataFrame() 
data.frame
tweetscores::posterior_samples$phi %>% data.frame() 
tweetscores::posterior_samples$phi$nytimes
tweetscores::posterior_samples$phi$['nytimes']
tweetscores::posterior_samples$phi %>% data.frame() 
tweetscores::posterior_samples$phi %>% data.frame() 
tweetscores::posterior_samples$phi[1]
tweetscores::posterior_samples$phi[1,]
tweetscores::posterior_samples$phi[,1]
tweetscores::posterior_samples$phi %>% as_tibble()
q
tweetscores::posterior_samples$phi[150,m]
tweetscores::posterior_samples$phi[150,]
tweetscores::posterior_samples$screen_name
'AOC' %in% tweetscores::posterior_samples$screen_name
'nytimes' %in% tweetscores::posterior_samples$screen_name
'SenSanders' %in% tweetscores::posterior_samples$screen_name
'BernieSanders' %in% tweetscores::posterior_samples$screen_name
'VICE' %in% tweetscores::posterior_samples$screen_name
'Vice' %in% tweetscores::posterior_samples$screen_name
'reason' %in% tweetscores::posterior_samples$screen_name
'Reason' %in% tweetscores::posterior_samples$screen_name
'maggieNYT' %in% tweetscores::posterior_samples$screen_name
'MaggieNYT' %in% tweetscores::posterior_samples$screen_name
df <- read_csv('~/Downloads/csmap-elites-twitter - Sheet1.tsv')
tweetscores::posterior_samples$phi[150,]
tweetscores::posterior_samples$phi[150,] %>% as_tibble()
bdf <- data.frame(ideo=tweetscores::posterior_samples$phi[150,], username=tweetscores::posterior_samples$screen_name)
bdf
bdf
df
df <- read_tsv('~/Downloads/csmap-elites-twitter - Sheet1.tsv')
bdf <- data.frame(ideo=tweetscores::posterior_samples$phi[150,], twitter_name=tweetscores::posterior_samples$screen_name)
df %>% left_join(bdf, by='twitter_name')
df$twitter_name_lower <- tolower(df$twitter_name)
bdf$twitter_name_lower <- tolower(bdf$twitter_name)
df %>% left_join(bdf, by='twitter_name_lower')
df %>% left_join(bdf, by='twitter_name_lower') %>% write_tsv('csmap-elites-ideo.csv'
)
jdf <- df %>% left_join(bdf, by='twitter_name_lower')
jdf %>% filter(!is.na(ideo))
all_twitter <- unique(c(df$twitter_name_lower, bdf$twitter_name_lower))
all_twitter
adf <- data.frame(twitter_name_lower=all_twitter)
addf
adf
adf %>% left_join(bdf, on='twitter_name_lower')
bdf$src <- 'pablo'
df$src <- 'csmap'
adf %>% left_join(bdf, on='twitter_name_lower')
adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(ddf, on='twitter_name_lower')
adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, on='twitter_name_lower')
adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, on='twitter_name_lower')
adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, on='twitter_name_lower')adf %>% left_join(bdf, on='twitter_name_lower')
adf %>% left_join(bdf, on='twitter_name_lower')
adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, on='twitter_name_lower')
adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, on='twitter_name_lower') %>% as_tibble()
adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, by='twitter_name_lower') %>% as_tibble()
jdf <- adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, on='twitter_name_lower') %>% as_tibble()
jdf %>% write_tsv('all-actors-ideo.tsv')
jdf %>% filter(is.na(src.x))
jdf %>% filter(is.na(`src.x`))
jdf
jdf <- adf %>% left_join(bdf, on='twitter_name_lower') %>% left_join(df, by='twitter_name_lower') %>% as_tibble()
jdf
jdf %>% write_tsv('all-actors-ideo.tsv')
jdf %>% filter(is.na(`src.x`))
jdf$is_pablo <- !is.na(jdf$src.x)
jdf$is_csmap <- !is.na(jdf$src.y)
jdf %>% select(twitter_name_lower, ideo, twitter_id, followers_count, type, is_pablo, is_csmap)
tweetscores::refdata
tweetscores::refdataCA
tweetscores::refdataCA[1,]
tweetscores::refdataCA[1]
tweetscores::refdataCA$
tweetscores::refdataCA %>% as_tibble(รง
tweetscores::refdataCA$nd
tweetscores::refdataCA$qa
tweetscores::refdataCA$qs
tweetscores::refdataCA$sv
tweetscores::refdataCA$nd
tweetscores::refdataCA$colnames
tweetscores::refdataCA$colcoord
tweetscores::refdataCA$colcoord
tweetscores::refdataCA$colmass
tweetscores::refdataCA[1,]
tweetscores::refdataCA$colcoord
tweetscores::refdataCA$colcoord
tweetscores::refdataCA$colcoord %>% as_tibble()
df
jdf
jdf %>% filter(ideo > 0 & ideo < 1)
jdf %>% filter(ideo > 0 & ideo < 1) %>% write_tsv('pablo-elites-center-right.tsv')
jdf %>% filter(ideo > -1 & ideo < 0) %>% write_tsv('pablo-elites-center-left.tsv')
library(tidyverse)
df <- read_tsv('pablo-elites-center-right.hydrated.tsv')
df
df %>% arrange(followers_count_y)
df %>% arrange(followers_count_y) %>% select(followers_count_y)
df %>% arrange(followers_count_y,desc=T) %>% select(followers_count_y)
df %>% arrange(followers_count_y,desc=T)
df %>% arrange(desc(followers_count_y))
df %>% filter(followers_count_y > 1000) %>% arrange(desc(followers_count_y))
df %>% filter(followers_count_y > 1000) %>% arrange(desc(followers_count_y)) %>% head(150)
df %>% filter(followers_count_y > 1000) %>% arrange(desc(followers_count_y)) %>% head(150) %>% write_tsv('pablo-elites-cr-filtered.tsv')
df <- read_tsv('pablo-elites-center-left.hydrated.tsv')
df %>% filter(followers_count_y > 1000) %>% arrange(desc(followers_count_y)) %>% head(150) %>% write_tsv('pablo-elites-cl-filtered.tsv')
df %>% filter(followers_count_y > 1000) %>% arrange(desc(followers_count_y)) %>% head(200) %>% write_tsv('pablo-elites-cl-filtered.tsv')
df <- read_tsv('pablo-elites-center-right.hydrated.tsv')
df %>% filter(followers_count_y > 1000) %>% arrange(desc(followers_count_y)) %>% head(200) %>% write_tsv('pablo-elites-cr-filtered.tsv')
library(tidyverse)
df <- read_csv('pablo-elites-center-all.tsv')
df %>% filter(is_political != '0')
df <- read_tsv('pablo-elites-center-all.tsv')
df %>% filter(is_political != '0')
df$is_political
df %>% filter(is.na(is_political) | is_political == 1)
dff <- df %>% filter(is.na(is_political) | is_political == 1)
df %>% filter(ideo > 0)
df %>% filter(ideo > 0) %>% head(50)
top50_left <- df %>% filter(ideo > 0) %>% head(50)
df %>% filter(ideo > 0) %>% mutate(n = row_number())
df %>% filter(ideo > 0) %>% mutate(rank = row_number())
rdf <- df %>% filter(ideo > 0) %>% mutate(rank = row_number())
ldf <- df %>% filter(ideo < 0) %>% mutate(rank = row_number())
elites <- rbind(rdf, ldf)
elites
elites %>% filter(is.na(is_political) | is_political == 1)
elites <- elites %>% filter(is.na(is_political) | is_political == 1)
elites %>% write_tsv('pablo-elites-ranked.tsv')
